<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Client Test</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
  <style>
    @import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap");
    body {
      background-color: rgb(255, 255, 255);
    }
    .problems-problem_box {
      background-color: rgba(255, 255, 255, 0);
      max-width: 1200px;
      margin: 0 auto;
    }
    .problems-list {
      flex: 1 1 0;
      background-color: rgba(225, 225, 235, 0.6);
      border-radius: 12px;
    }
    .problems-list-bar {
      display: flex;
      height: 30px;
      padding-left: 6px;
      padding-right: 6px;
      color: rgb(50, 50, 55);
    }
    .problems-list-content {
      padding-left: 6px;
    }
    .space-bar-bec {
      display: inline-block;
      vertical-align: text-bottom;
    }
    .space-bar-bec svg {
      width: 5px;
      height: auto;
      display: inline-block;
      color: #00000075;
      transform: translateX(-1.5px) translateY(1.5px) scale(150%);
    }
    .row {
      display: flex;
      gap: 6px;
      background-color: rgba(255, 255, 255, 0);
    }
    .right {
      margin-left: auto;
    }
    .txt1 {
      flex: 1 1 0;
      background-color: rgba(225, 225, 235, 0.6);
      border-radius: 12px;
      padding: 0px 0px 0px 12px; font-size: 21px;
      height: 30px;

      display: flex;
      align-items: center;
      justify-content: center;
    }
    .content {
      font-family: "Gowun Dodum", sans-serif;
      font-weight: 400;
      font-style: normal;
      font-size: 18px;
      line-height: 1.6;
      color: rgb(30, 30, 35);
      margin-bottom: 12px;
    }
    .content img {
      max-width: 100%;
      height: auto;
    }
    .font-123 {
      font-family: "JetBrains Mono", monospace;
      font-size: 16px;
      font-weight: 300;
      letter-spacing: 1.3px;
      line-height: 120%;
    }
    .dongle {
      background-color: rgba(201, 203, 209, 0.288);
      border-radius: 12px;
      padding: 2px 8px 2px 8px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 20px;
      cursor: default;
    }
    .tags1 {
      display: flex;
      align-items: center;
    }
  </style>
</head>
<body>
  <div id="problem_box" class="problems-problem_box">
    <div class="row">
      <div class="txt1" style="gap:8px; justify-content:flex-start; padding-left:12px;">
        <span style="font-size:14px; opacity:0.7;" id="num_id">#1001</span>

        <div id="name_id">A+b problem</div>

        <div id = "tags" class="tags1">

        </div>
      </div>
      
      <div class="row" id = "67tab">
        <div class="txt1 right" style="gap:6px; font-size:14px;">
          <span style="transform: translateY(2px);">
            <svg width="calc(33.5px - 11.5px)" height="calc(33.5px - 11.5px)" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="rgb(0,0,0)" class="css-8kn4zf"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.1921 5.46455C21.5826 5.85507 21.5826 6.48824 21.1921 6.87876L9.94909 18.1218C9.51951 18.5513 8.82303 18.5513 8.39345 18.1218L2.80731 12.5356C2.41679 12.1451 2.41679 11.5119 2.80731 11.1214C3.19783 10.7309 3.831 10.7309 4.22152 11.1214L9.17127 16.0711L19.7779 5.46455C20.1684 5.07402 20.8016 5.07402 21.1921 5.46455Z"></path></svg>
          </span>
          <span id="co-js">1312</span>
          <span>/</span>
          <span id="up-js">1529</span>
          <span></span><span></span>
        </div>

        <div class="txt1 right" style="gap:6px; font-size:14px;">
          <span style="transform: translateY(2px);">
            <svg width="calc(33.5px - 11.5px)" height="calc(33.5px - 11.5px)" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="rgb(0,0,0)" class="css-8kn4zf"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM13 4.06189V5C13 5.55228 12.5523 6 12 6C11.4872 6 11.0645 5.61396 11.0067 5.11662L11 5V4.06189C7.46744 4.5024 4.65014 7.24607 4.09821 10.7428L4.06189 11H5C5.55228 11 6 11.4477 6 12C6 12.5128 5.61396 12.9355 5.11662 12.9933L5 13H4.06189C4.55399 16.9463 7.92038 20 12 20C15.9928 20 19.3024 17.0749 19.9028 13.2507L19.9381 13H19C18.4477 13 18 12.5523 18 12C18 11.4872 18.386 11.0645 18.8834 11.0067L19 11H19.9381C19.7149 9.21042 18.9007 7.60441 17.6969 6.38349L15.2725 11.1417L15.1183 11.436L14.8076 12.0461C14.4385 12.7668 14.0356 13.4999 13.4849 14.0506C12.5132 15.0223 10.8972 15.1399 9.87861 14.1213C8.86 13.1027 8.97764 11.4868 9.94932 10.5151C10.4214 10.043 11.0274 9.67957 11.6448 9.35293L12.5639 8.8816L13.413 8.43849L17.6162 6.30275C16.3953 5.09914 14.7894 4.28503 13 4.06189ZM13.1623 10.8376L12.9523 10.9503L12.7357 11.0631C12.3336 11.2717 11.914 11.4893 11.5637 11.7607L11.3625 11.9304L11.2898 12.0145C11.0974 12.2747 11.1552 12.5695 11.2928 12.7071C11.4305 12.8448 11.7252 12.9026 11.9854 12.7101L12.0706 12.6364L12.2392 12.4363C12.4564 12.1561 12.6391 11.8315 12.8102 11.5069L12.9368 11.2642C13.0125 11.1183 13.0869 10.9747 13.1623 10.8376Z"></path></svg>
          </span>
          <span id="se-js">1s</span>
          <span id="mb-js">32MB</span>
          <span></span><span></span>
        </div>
      </div>
    </div>

    <div id="inout_example-detail"></div>
    <div id="inout_example"></div>
  </div>
</body>
<script>
//여기봐 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
let problemsid = 1134; //문제 아이디 넣어!!
//여기봐 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

let div_content = "";
const space_bar =
` <span class="space-bar-bec">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 24">
<path d="M6 4 V18 H42 V4" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
</svg>
</span>`;//asddsaiuhsdasadhkjjkbhdfsakjsdasdadaasdsdadsadasdsadsa
const starter_block = `<div style=\"margin-top: -16px;\"></div><p style="transform: translateX(5px);" class="font-123", monospace>`;
const ender_block = "</p><div style=\"margin-top: -8px;\"></div>";
const inout_example = document.getElementById("inout_example");
const num_id = document.getElementById("num_id");
const name_id = document.getElementById("name_id");
const co_js = document.getElementById("co-js");
const up_js = document.getElementById("up-js");
const se_js = document.getElementById("se-js");
const mb_js = document.getElementById("mb-js");
const tags_js = document.getElementById("tags");
let copy_list = [];
let can_move = false;
let can_move67 = false;
let can_move_N = false;
let youtube_id = "";

function youtube_link(id) {
  youtube_id = id;
  return `
        <div class="txt1 right" style="gap:6px; font-size:14px; cursor: pointer;" onclick="youtubeopen();">
          <span style="transform: translateY(2px);">
            <svg width="calc(33.5px - 11.5px)" height="calc(33.5px - 11.5px)" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="rgb(0,0,0)" class="css-8kn4zf"><path d="M12 4C12.8554 4 13.7316 4.02242 14.5817 4.05777L15.5861 4.10578L16.5475 4.16257L17.4476 4.22448L18.2685 4.28787C20.1065 4.43702 21.5836 5.85942 21.7633 7.71109L21.8031 8.13563L21.8781 9.04557C21.9482 9.9888 22 11.0173 22 12C22 12.9827 21.9482 14.0112 21.8781 14.9544L21.8031 15.8644C21.79 16.0097 21.7767 16.1514 21.7633 16.2889C21.5836 18.1406 20.1065 19.563 18.2685 19.7121L17.4476 19.7755L16.5475 19.8374L15.5861 19.8942L14.5817 19.9422C13.7316 19.9776 12.8554 20 12 20C11.1446 20 10.2684 19.9776 9.41834 19.9422L8.41386 19.8942L7.45253 19.8374L6.5524 19.7755L5.7315 19.7121C3.89351 19.563 2.4164 18.1406 2.23668 16.2889L2.19692 15.8644L2.12192 14.9544C2.0518 14.0112 2 12.9827 2 12C2 11.0173 2.0518 9.9888 2.12192 9.04557L2.19692 8.13563C2.21003 7.99033 2.22333 7.84861 2.23668 7.71109C2.4164 5.85942 3.89351 4.43702 5.7315 4.28787L6.5524 4.22448L7.45253 4.16257L8.41385 4.10578L9.41834 4.05777C10.2684 4.02242 11.1446 4 12 4ZM12 6C11.1746 6 10.3259 6.02172 9.49966 6.05611L8.52183 6.10287L7.5831 6.15831L6.70106 6.21895L5.89327 6.28131C5.00396 6.35348 4.31194 7.03249 4.22732 7.9043C4.11002 9.11288 4 10.6181 4 12C4 13.3819 4.11002 14.8871 4.22732 16.0957C4.31194 16.9675 5.00396 17.6465 5.89327 17.7187L6.70106 17.7811L7.5831 17.8417L8.52183 17.8972L9.49966 17.9439C10.3259 17.9783 11.1746 18 12 18C12.8253 18 13.6741 17.9783 14.5003 17.9439L15.4782 17.8972L16.4169 17.8417L17.2989 17.7811L18.1067 17.7187C18.996 17.6465 19.6881 16.9675 19.7727 16.0957C19.89 14.8871 20 13.3819 20 12C20 10.6181 19.89 9.11288 19.7727 7.9043C19.6881 7.03249 18.996 6.35348 18.1067 6.28131L17.2989 6.21895L16.4169 6.15831L15.4782 6.10287L14.5003 6.05611C13.6741 6.02172 12.8253 6 12 6ZM10 9.57513C10 9.14404 10.4356 8.86383 10.8188 9.01615L10.9 9.05551L15.1 11.4804C15.4692 11.6935 15.4976 12.2019 15.1852 12.4605L15.1 12.5196L10.9 14.9445C10.5267 15.16 10.0662 14.923 10.0065 14.5149L10 14.4249V9.57513Z"></path></svg>
          </span>
          <span>유튜브</span>
          <span></span><span></span>
        </div>`;
}

function youtubeopen() {
  window.open(youtube_id);
}

function copyAndSwapText(el, text) {
  navigator.clipboard.writeText(text);

  const original = el.innerHTML;
  el.innerHTML = "복사됨";
  el.style.pointerEvents = "none";

  setTimeout(() => {
    el.innerHTML = original;
    el.style.pointerEvents = "";
  }, 1000);
}

function make_inout_example_text(content) {
  const box_ele = content.split("\n");
  let result = "";
  for(let i = 0; i < box_ele.length; i++) {
    result += starter_block;
    box_ele[i] = box_ele[i].trimEnd();
    box_ele[i] = box_ele[i].replace(/ /g, "&nbsp;");
    result += box_ele[i];
    result += ender_block;
  }
  return result;
}

function make_inout_example(name, content) {
  let result = "<div class=\"problems-list\">\n<div class=\"problems-list-bar\"><p style=\" transform: translateY(-14px);\">";
  if (name === "출력")
  result += `<svg style="transform: translateY(3px) translateX(2px);" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
  
  <polyline points="16 17 21 12 16 7" />
  <line x1="21" y1="12" x2="9" y2="12" />
  </svg> `;
  if (name === "입력")
  result += `<svg style="transform: translateY(3px) translateX(2px);" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
  <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
  
  <polyline points="10 17 15 12 10 7" />
  <line x1="15" y1="12" x2="3" y2="12" />
</svg> `;
result += name;
  copy_list.push(content);
  result += `</p><div class="right" style="cursor: pointer; transform: translateY(2px);" onclick="copyAndSwapText(this, copy_list[${copy_list.length - 1}])">
    <svg style="transform: translateY(3px) translateX(2px);" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
      <rect x="3" y="3" width="12" height="14" rx="2" ry="2" />
      <rect x="6" y="6" width="12" height="14" rx="2" ry="2" fill="rgb(225, 225, 235)" />
    </svg>
  </div>  </div> \n<div class="problems-list-content">`;
  result += make_inout_example_text(content);
  result += "\n</div>\n</div>";
  return result;
}

function make_inout2_example(num, content1, content2) {
  let result = `<div class = "row" style="height: 30px;">
    <div class = "txt1" style="padding: 0px 0px 0px 12px; font-size: 21px;">
      ` + "예제 #" + num + `
    </div>
  </div><div style=\"margin-top: 6px;\"></div>`;
  if(num == 0) result = result.replace("예제 #0", "예제");
  result += "<div class=\"row\">" +
    make_inout_example("입력", content1) +
    make_inout_example("출력", content2) +
  "</div>\n<div style=\"margin-top: 6px;\"></div>\n</div>";
  return result;
}

async function get() {
  fetch(
    "https://euler-oj-problems.s3.ap-northeast-2.amazonaws.com/contents/" +
    problemsid + "_kr.html"
  )
  .then(res => {
    if (!res.ok) throw new Error("HTTP 오류 " + res.status);
    return res.text();
  })
  .then(html => {
    load_html(html);
  })
  .catch(err => {
    console.error("가져오기 실패:", err);
  });
}

(async function main() {
  const params = new URLSearchParams(location.search);

  const id = params.get("id");
  
  if (id !== null) {
    problemsid = id;
  };

  const res = await fetch(
    "https://euleroj.io/json/problems/detail/" + problemsid
  );
  const data = await res.json();

  load(data);
})();

function load(data) {
  console.log("asda\n",data);
  num_id.innerText = "#" + data.id;
  name_id.innerText = data.title;

  co_js.innerText = data.solve;
  up_js.innerText = data.submit;
  se_js.innerText = data.timelimit + "s";
  mb_js.innerText = data.memorylimit + "MB";

  for(let i = 0; i < data.tags.length; i++) {
    tags_js.innerHTML += `
    <div class="dongle" style="margin-right:4px;">
      ` + data.tags[i].name + `
    </div>`;
  }

  if(data.youtube != "") {
    document.getElementById("67tab").innerHTML = youtube_link(data.youtube) + document.getElementById("67tab").innerHTML;
  }
  document.title = data.title;
  get();
  if(data.sampleInput.length == 1) {
    inout_example.innerHTML += make_inout2_example(
      0,
      data.sampleInput[0],
      data.sampleOutput[0]
    );
    return; 
  }
  for (let i = 0; i < data.sampleInput.length; i++) {
    inout_example.innerHTML += make_inout2_example(
      i + 1,
      data.sampleInput[i],
      data.sampleOutput[i]
    );
  }
}

function load_html(html) {
  document.getElementById("inout_example-detail").innerHTML = html
  .replace(/%IMG_URL%/g, "https://euler-oj-problems.s3.ap-northeast-2.amazonaws.com/images")
  .replace("입력형식", "입력")
  .replace("출력형식", "출력");
}
</script>
</html>